<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#050505">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Five Magics Designs | Cat√°logo</title>
    <meta name="description"
        content="Cat√°logo de remeras personalizadas premium. Dise√±os de bandas, arte y pedidos a medida. DTG premium.">

    <!-- Favicon nuclear -->
    <link rel="icon" type="image/png" href="images/favicon/Nuclear_symbol.svg.png">

    <!-- Fuentes optimizadas -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;600;700&family=Inter:wght@400;500&display=swap"
        rel="stylesheet">

    <style>
        /* Correcci√≥n para que el scroll se bloquee bien en m√≥vil */
        body.modal-open {
            overflow: hidden !important;
            position: fixed;
            width: 100%;
        }

        /* Mejora en la imagen del zoom para que sea fluida */
        #zoomImg {
            transform-origin: 0 0; /* Clave para que el pinch zoom se sienta natural */
            will-change: transform; /* Optimizaci√≥n de hardware */
            transition: transform 0.1s linear; /* Suavidad en el movimiento */
        }

        /* Asegurar que el overlay de zoom capture todos los toques */
        .zoom-overlay {
            touch-action: none; /* Deshabilita el zoom nativo del navegador para controlar nosotros */
            backdrop-filter: blur(5px); /* Toque premium FMD */
        }

        /* Mejorar flechas del carrusel y ocultar en m√≥vil */
        @media (max-width: 600px) {
            .carousel-arrow {
                display: none !important;
            }
        }
        .carousel-arrow {
            font-size: 0;
        }
        .carousel-arrow.left::after {
            content: '';
            display: block;
            width: 18px;
            height: 18px;
            mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="white" d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>') no-repeat center/contain;
            background: white;
            margin: auto;
        }
        .carousel-arrow.right::after {
            content: '';
            display: block;
            width: 18px;
            height: 18px;
            mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="white" d="M8.59 16.59L10 18l6-6-6-6-1.41 1.41L13.17 12z"/></svg>') no-repeat center/contain;
            background: white;
            margin: auto;
        }
                /* Carrusel de variantes en modal */
                .carousel {
                    display: flex;
                    overflow-x: auto;
                    scroll-snap-type: x mandatory;
                    -webkit-overflow-scrolling: touch;
                    gap: 0;
                }
                .carousel-slide {
                    flex: 0 0 100%;
                    scroll-snap-align: start;
                    scroll-snap-stop: always;
                }
                .carousel-slide img {
                    width: 100%;
                    aspect-ratio: 2/3;
                    object-fit: contain;
                    background: #000;
                }
        /* ============================================
           FMD PRO STUDIO ‚Äì RUST & NEON PALETTE
           ============================================ */
        :root {
            /* Fondo */
            --bg: #050505;
            --bg-card: #0e0e0e;
            --bg-modal: #0b0b0b;
            /* Rust & Neon */
            --rust: #b83b16;
            --rust-glow: #ff5e3a;
            --magic-green: #39ff14;
            /* Texto */
            --text: #e8e8e8;
            --text-muted: #8b8b8b;
            --text-primary: var(--text);
            /* Otros */
            --border-metal: #2a2a2a;
            --font-title: 'Oswald', sans-serif;
            --font-body: 'Inter', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background: var(--bg);
            background-image: radial-gradient(ellipse at 50% 0%, rgba(184, 59, 22, 0.08) 0%, transparent 50%);
            color: var(--text);
            font-family: var(--font-body);
            line-height: 1.4;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* === HEADER SIMPLE === */
        header {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(5, 5, 5, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid #222;
            padding: 12px 16px;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 600px;
            margin: 0 auto;
        }

        .logo {
            font-family: var(--font-title);
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--text);
            text-decoration: none;
            letter-spacing: 1px;
        }

        .logo span {
            color: var(--rust);
        }

        .btn-wa-header {
            background: var(--rust);
            color: white;
            padding: 8px 14px;
            border-radius: 4px;
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        /* === BANNER === */
        .banner {
            background: linear-gradient(90deg, var(--rust), #1a0a05);
            text-align: center;
            padding: 10px 16px;
            font-family: var(--font-title);
            font-size: 0.9rem;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        /* === HERO PREMIUM === */
        .hero {
            text-align: center;
            padding: 40px 20px 32px;
            background: linear-gradient(180deg, #0a0a0a 0%, var(--bg) 100%);
        }

        .hero-welcome {
            font-family: var(--font-title);
            font-size: clamp(0.85rem, 4vw, 1.1rem);
            color: var(--text-primary);
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);
            letter-spacing: 1.5px;
            font-weight: 600;
            margin-bottom: 8px;
            opacity: 0.9;
        }

        .hero-tagline {
            font-family: var(--font-title);
            font-size: clamp(1.3rem, 6vw, 1.8rem);
            color: var(--rust);
            text-transform: uppercase;
            text-shadow: 0 3px 12px rgba(133, 44, 12, 0.5);
            line-height: 1.1;
            font-weight: 800;
            margin-bottom: 20px;
            letter-spacing: 0.5px;
        }

        .hero-divider {
            width: 60px;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--rust), transparent);
            margin: 0 auto 16px;
        }

        .hero h1 {
            font-family: var(--font-title);
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 8px;
            line-height: 1.1;
        }

        .hero h1 span {
            color: var(--rust);
        }

        .hero p {
            color: var(--text-muted);
            font-size: 0.9rem;
            max-width: 300px;
            margin: 0 auto;
        }

        /* === NAVEGACI√ìN CATEGOR√çAS === */
        .category-nav {
            display: flex;
            gap: 8px;
            padding: 12px 16px;
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
            position: sticky;
            top: 56px;
            z-index: 90;
            background: var(--bg);
            border-bottom: 1px solid #1a1a1a;
        }

        .category-nav::-webkit-scrollbar {
            display: none;
        }

        .cat-btn {
            flex-shrink: 0;
            padding: 8px 16px;
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 20px;
            color: var(--text-muted);
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .cat-btn.active {
            background: var(--rust);
            border-color: var(--rust);
            color: white;
        }

        /* === GRID DE PRODUCTOS === */
        .products-section {
            padding: 16px;
            max-width: 600px;
            margin: 0 auto;
        }

        .section-title {
            font-family: var(--font-title);
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 16px;
            padding-left: 4px;
            border-left: 3px solid var(--rust);
            padding-left: 12px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .product-card {
            background: var(--bg-card);
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid var(--border-metal);
            cursor: pointer;
            transition: transform 0.2s, border-color 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
        }

        .product-card:active {
            transform: scale(0.98);
            border-color: var(--rust);
        }

        .product-img {
            width: 100%;
            aspect-ratio: 2/3;
            object-fit: cover;
            display: block;
            background: #111;
        }

        .product-info {
            padding: 10px;
        }

        .product-name {
            font-family: var(--font-title);
            font-size: 0.9rem;
            font-weight: 600;
            line-height: 1.2;
            margin-bottom: 4px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .product-meta {
            font-size: 0.75rem;
            color: var(--text-muted);
            font-weight: 500;
        }

        .product-price-row {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-top: 4px;
            flex-wrap: wrap;
        }

        .product-price {
            font-family: var(--font-title);
            font-size: 1rem;
            color: var(--rust);
            font-weight: 700;
        }

        .product-envio {
            font-size: 0.6rem;
            color: #25D366;
            font-weight: 700;
            background: rgba(37, 211, 102, 0.15);
            padding: 2px 5px;
            border-radius: 3px;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        .product-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            background: var(--rust);
            color: white;
            font-size: 0.65rem;
            padding: 3px 8px;
            border-radius: 3px;
            font-weight: 700;
        }

        .product-card {
            position: relative;
        }

        .variants-badge {
            position: absolute;
            bottom: 70px;
            left: 8px;
            background: rgba(0, 0, 0, 0.8);
            color: var(--text);
            font-size: 0.7rem;
            padding: 4px 8px;
            border-radius: 3px;
            font-weight: 500;
        }

        /* === MODAL === */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.95);
            z-index: 1000;
            display: none;
            opacity: 0;
            transition: opacity 0.25s;
            overflow: hidden;
            touch-action: none; 
            -webkit-overflow-scrolling: none; /* Evitar desplazamientos no deseados */
            overscroll-behavior: none; /* Evitar comportamiento de sobre desplazamiento */
        }

        .modal-overlay.active {
            display: flex;
            opacity: 1;
        }

        .modal {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            max-width: 100vw;
            max-height: 100%;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            border-bottom: 1px solid #222;
            flex-shrink: 0;
        }

        .modal-close {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #222;
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .modal-body {
            flex: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        /* Carrusel de im√°genes */
        .carousel-container {
            position: relative;
            background: #000;
        }

        .carousel {
            display: flex;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            scrollbar-width: none;
            -ms-overflow-style: none;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
        }

        /* Reducir sensibilidad del scroll */
        .carousel {
            overscroll-behavior-x: contain;
        }

        .carousel::-webkit-scrollbar {
            display: none;
        }

        .carousel-slide {
            flex: 0 0 100%;
            scroll-snap-align: start;
            scroll-snap-stop: always;
            overflow: hidden; /* Corta la imagen escalada */
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .carousel-slide img {
            width: 100%;
            aspect-ratio: 2/3;
            object-fit: contain;
            background: #000;
        }

        .carousel-indicators {
            position: absolute;
            bottom: 12px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 6px;
        }

        .carousel-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transition: background 0.2s;
        }

        .carousel-dot.active {
            background: var(--rust);
        }

        .variant-name {
            text-align: center;
            padding: 8px;
            font-size: 0.85rem;
            color: var(--rust);
            font-weight: 600;
            background: rgba(0, 0, 0, 0.5);
        }

        /* Info del producto */
        .modal-product-info {
            padding: 20px 16px;
        }

        .modal-product-name {
            font-family: var(--font-title);
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .modal-product-meta {
            color: var(--rust);
            font-size: 0.9rem;
            font-weight: 500;
            margin-bottom: 12px;
        }

        .modal-product-desc {
            color: var(--text-muted);
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 16px;
        }

        .modal-price {
            font-family: var(--font-title);
            font-size: 1.8rem;
            color: var(--rust);
            font-weight: 700;
            margin-bottom: 4px;
        }

        .modal-price-note {
            font-size: 0.8rem;
            color: var(--magic-green);
            margin-bottom: 16px;
            font-weight: 500;
        }

        /* Badge Doble Estampa */
        .badge-doble {
            background: linear-gradient(90deg, var(--rust), var(--rust-glow));
            color: white;
            font-size: 0.75rem;
            font-weight: 700;
            padding: 8px 12px;
            border-radius: 6px;
            text-align: center;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Specs */
        .specs-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            margin-bottom: 20px;
        }

        .spec-item {
            background: #1a1a1a;
            padding: 10px;
            border-radius: 6px;
            text-align: center;
        }

        .spec-label {
            font-size: 0.7rem;
            color: var(--text-muted);
            margin-bottom: 2px;
        }

        .spec-value {
            font-size: 0.85rem;
            font-weight: 600;
        }

        /* Bot√≥n WhatsApp CTA - Magic Green */
        .btn-wa {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            padding: 16px;
            background: var(--magic-green);
            color: #000;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            text-decoration: none;
            box-shadow: 0 4px 16px rgba(57, 255, 20, 0.25);
        }

        .btn-wa svg {
            width: 24px;
            height: 24px;
        }

        /* === FOOTER MEJORADO === */
        footer {
            text-align: center;
            padding: 40px 16px 100px;
            border-top: 1px solid #1a1a1a;
            margin-top: 32px;
            background: linear-gradient(180deg, transparent 0%, rgba(133, 44, 12, 0.05) 100%);
        }

        .footer-logo {
            font-family: var(--font-title);
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 16px;
        }

        .footer-logo span {
            color: var(--rust);
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin-bottom: 20px;
        }

        .social-link {
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 50%;
            transition: all 0.2s;
            text-decoration: none;
        }

        .social-link:hover,
        .social-link:active {
            border-color: var(--rust);
            background: rgba(133, 44, 12, 0.2);
            transform: translateY(-2px);
        }

        .social-link svg {
            width: 22px;
            height: 22px;
            fill: var(--text);
        }

        .social-link.whatsapp {
            border-color: #25D366;
            background: rgba(37, 211, 102, 0.15);
        }

        .social-link.whatsapp svg {
            fill: #25D366;
        }

        .footer-divider {
            width: 60px;
            height: 1px;
            background: linear-gradient(90deg, transparent, #333, transparent);
            margin: 20px auto;
        }

        footer p {
            color: var(--text-muted);
            font-size: 0.8rem;
        }

        .footer-tagline {
            font-family: var(--font-title);
            color: var(--rust);
            font-size: 0.9rem;
            margin-top: 12px;
            letter-spacing: 1px;
        }

        /* === FAB WhatsApp === */
        .fab-wa {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 56px;
            height: 56px;
            background: #25D366;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
            z-index: 500;
            text-decoration: none;
        }

        .fab-wa svg {
            width: 28px;
            height: 28px;
            fill: white;
        }

        /* === BUSCADOR === */
        .search-container {
            padding: 12px 16px 0;
            max-width: 600px;
            margin: 0 auto;
        }

        .search-box {
            display: flex;
            align-items: center;
            gap: 10px;
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 10px 14px;
            transition: border-color 0.2s;
        }

        .search-box:focus-within {
            border-color: var(--rust);
        }

        .search-box svg {
            width: 20px;
            height: 20px;
            stroke: var(--text-muted);
            flex-shrink: 0;
        }

        .search-box input {
            flex: 1;
            background: none;
            border: none;
            outline: none;
            color: var(--text);
            font-size: 16px; /* Asegurar tama√±o de fuente */
            font-family: var(--font-body);
        }

        .search-box input::placeholder {
            color: var(--text-muted);
        }

        .search-clear {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            padding: 4px;
            display: none;
        }

        .search-clear.visible {
            display: block;
        }

        .search-results-info {
            text-align: center;
            padding: 8px;
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        /* === CATALOG TOOLBAR === */
        .catalog-toolbar {
            padding: 12px 16px;
            max-width: 600px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .toolbar-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .no-results {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-muted);
        }

        .no-results svg {
            width: 48px;
            height: 48px;
            stroke: #333;
            margin-bottom: 12px;
        }

        /* === TOGGLE VISTA === */
        .view-toggle-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            max-width: 600px;
            margin: 0 auto;
        }

        .products-count {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        .view-toggle {
            display: flex;
            gap: 4px;
            background: #1a1a1a;
            border-radius: 6px;
            padding: 4px;
        }

        .view-btn {
            width: 36px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: transparent;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .view-btn svg {
            width: 18px;
            height: 18px;
            fill: var(--text-muted);
            stroke: none;
            transition: fill 0.2s;
        }

        .view-btn.active {
            background: var(--rust);
        }

        .view-btn.active svg {
            fill: white;
        }

        /* Vista Galer√≠a (im√°genes grandes) */
        .products-grid.gallery-view {
            grid-template-columns: 1fr;
            gap: 16px;
        }

        .products-grid.gallery-view .product-card {
            display: flex;
            flex-direction: column;
        }

        .products-grid.gallery-view .product-img {
            aspect-ratio: 2/3;
        }

        .products-grid.gallery-view .product-info {
            padding: 14px;
        }

        .products-grid.gallery-view .product-name {
            font-size: 1.1rem;
        }

        /* === ZOOM EN IM√ÅGENES (PINCH-TO-ZOOM) === */
        .carousel-slide img {
            touch-action: pan-x;
            cursor: zoom-in;
        }

        .zoom-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.98);
            z-index: 3000;
            display: none;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .zoom-overlay.active {
            display: flex;
            opacity: 1;
        }

        .zoom-container {
            width: 100%;
            height: 100%;
            overflow: auto;
            display: flex;
            align-items: center;
            justify-content: center;
            -webkit-overflow-scrolling: touch;
        }

        .zoom-img {
            max-width: none;
            max-height: none;
            width: auto;
            height: auto;
            transform-origin: center;
            transition: transform 0.1s ease-out;
            cursor: grab;
        }

        .zoom-img.zoomed {
            cursor: move;
        }

        .zoom-close {
            position: fixed;
            top: 16px;
            right: 16px;
            width: 44px;
            height: 44px;
            background: rgba(255, 255, 255, 0.15);
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 3001;
        }

        .zoom-close svg {
            width: 24px;
            height: 24px;
            stroke: white;
        }

        .zoom-hint {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            z-index: 3001;
        }

        /* === BOT√ìN COMPARTIR === */
        .modal-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 16px;
        }

        .btn-share {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px;
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 8px;
            color: var(--text);
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
        }

        .btn-share:active {
            background: #252525;
            transform: scale(0.98);
        }

        .btn-share svg {
            width: 20px;
            height: 20px;
        }

        .btn-share-wa {
            background: rgba(37, 211, 102, 0.15);
            border-color: #25D366;
            color: #25D366;
        }

        .share-toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%) translateY(20px);
            background: #333;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 0.9rem;
            z-index: 4000;
            opacity: 0;
            transition: all 0.3s;
            pointer-events: none;
        }

        .share-toast.visible {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        /* === ANIMACIONES SUAVES === */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .products-grid {
            animation: fadeIn 0.3s ease;
        }

        /* === TABLET/DESKTOP === */
        @media (min-width: 500px) {
            .products-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (min-width: 768px) {
            .products-section {
                max-width: 900px;
            }

            .products-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 16px;
            }

            .modal {
                max-width: 500px;
                max-height: 90vh;
                margin: auto;
                border-radius: 12px;
                overflow: hidden;
            }
        }

        /* Ocultar secci√≥n */
        .hidden {
            display: none !important;
        }

        /* === SECCIONES INFO === */
        .info-section {
            padding: 32px 16px;
            border-top: 1px solid #1a1a1a;
        }

        .info-title {
            font-family: var(--font-title);
            font-size: 1.4rem;
            text-align: center;
            margin-bottom: 8px;
            color: var(--text-primary);
        }

        .info-subtitle {
            text-align: center;
            color: var(--text-muted);
            font-size: 0.85rem;
            margin-bottom: 24px;
        }

        /* Modelos Container */
        .modelos-container {
            display: flex;
            flex-direction: column;
            gap: 32px;
        }

        .modelo-block {
            background: var(--bg-card);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #1a1a1a;
        }

        .modelo-titulo {
            font-size: 1rem;
            font-weight: 700;
            color: var(--rust);
            margin-bottom: 6px;
            text-transform: uppercase;
        }

        .modelo-desc {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-bottom: 16px;
        }

        .modelo-images {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .modelo-img-placeholder {
            aspect-ratio: 3/4;
            background: #1a1a1a;
            border-radius: 8px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .modelo-img-placeholder:active {
            transform: scale(0.98);
        }

        .modelo-img-placeholder img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Modal de imagen simple */
        .image-modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }

        .image-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .image-modal img {
            max-width: 100%;
            max-height: 90vh;
            object-fit: contain;
            border-radius: 8px;
        }

        .image-modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 44px;
            height: 44px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .image-modal-close svg {
            width: 24px;
            height: 24px;
            stroke: white;
        }

        /* Tabs Talles */
        .tabs-container {
            max-width: 400px;
            margin: 0 auto;
        }

        .tabs-nav {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }

        .tab-btn {
            flex: 1;
            padding: 10px;
            border: 1px solid #2a2a2a;
            background: transparent;
            color: var(--text-muted);
            font-size: 0.75rem;
            font-weight: 600;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .tab-btn.active {
            background: var(--rust);
            border-color: var(--rust);
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .size-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--bg-card);
            border-radius: 8px;
            overflow: hidden;
        }

        .size-table th,
        .size-table td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid #1a1a1a;
        }

        .size-table th {
            background: #1a1a1a;
            font-size: 0.75rem;
            color: var(--rust);
            font-weight: 700;
        }

        .size-table td {
            font-size: 0.85rem;
        }

        .size-table tr:last-child td {
            border-bottom: none;
        }

        /* Steps C√≥mo Comprar */
        .steps-container {
            max-width: 400px;
            margin: 0 auto 24px;
        }

        .step-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 16px;
        }

        .step-num {
            flex-shrink: 0;
            width: 32px;
            height: 32px;
            background: var(--rust);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
        }

        .step-content h4 {
            font-size: 0.95rem;
            margin-bottom: 2px;
        }

        .step-content p {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .btn-cta-main {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
            padding: 16px;
            background: #25D366;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 700;
            text-decoration: none;
        }

        .btn-cta-main svg {
            width: 24px;
            height: 24px;
        }
    </style>
</head>

<body>

    <!-- Banner env√≠o gratis -->
    <div class="banner">
        üá¶üá∑ ENV√çO GRATIS A TODO EL PA√çS üá¶üá∑
    </div>

    <!-- Header -->
    <header>
        <div class="header-content">
            <a href="#" class="logo">FIVE <span>MAGICS</span></a>
            <a href="https://instagram.com/fivemagicsdesigns" class="btn-wa-header" target="_blank" rel="noopener">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                </svg>
                Instagram
            </a>
        </div>
    </header>

    <!-- Hero Premium -->
    <section class="hero">
        <p class="hero-welcome">BIENVENIDOS A LA CASA DE FIVE MAGICS DESIGNS</p>
        <h2 class="hero-tagline">Vestite de Gala para la Despedida</h2>
        <div class="hero-divider"></div>
        <h1>CAT√ÅLOGO <span>2025</span></h1>
        <p>Remeras de Megadeth exclusivas. Impresi√≥n DTG premium. Algod√≥n 24/1.</p>
    </section>

    <style>
    /* === MODELOS DE REMERAS: Responsive === */
    @media (max-width: 600px) {
        #modelos .modelos-container {
            gap: 1rem;
        }
        #modelos .modelo-block {
            padding: 0;
        }
        #modelos .modelo-titulo {
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }
        #modelos .modelo-images {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #modelos .modelo-img-placeholder {
            width: 90vw;
            max-width: 340px;
            height: auto;
            margin: 0 auto;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 12px rgba(0,0,0,0.10);
            background: #fff;
            padding: 0;
        }
        #modelos .modelo-img-placeholder img {
            width: 100%;
            height: auto;
            display: block;
            object-fit: contain;
            border-radius: 12px;
        }
        #modelos .modelo-block {
            font-size: 0.92rem;
        }
        #modelos .info-title {
            font-size: 1.2rem;
        }
        #modelos .info-subtitle {
            font-size: 0.95rem;
        }
        #modelos .modelo-block h3 {
            font-size: 1rem;
        }
        #modelos .modelo-block {
            margin-bottom: 1.2rem;
        }
        #modelos .modelos-container > div {
            flex-direction: column !important;
            gap: 0.5rem !important;
        }
    }
    </style>

    <!-- Navegaci√≥n categor√≠as -->
    <nav class="category-nav" id="categoryNav">
        <button class="cat-btn active" data-cat="Album">√Ålbumes</button>
        <button class="cat-btn" data-cat="Singles">Singles</button>
        <button class="cat-btn" data-cat="Musician">Miembros</button>
        <button class="cat-btn" data-cat="Tour">Tours</button>
        <button class="cat-btn" data-cat="Personalizados">Especial Personalizados</button>
    </nav>

    <!-- Toolbar: Buscador + Contador + Vista -->
    <div class="catalog-toolbar">
        <div class="search-box">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8" />
                <path d="M21 21l-4.35-4.35" />
            </svg>
            <input type="text" id="searchInput" placeholder="Buscar dise√±os...">
            <button class="search-clear" id="searchClear">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18">
                    <path d="M18 6L6 18M6 6l12 12" />
                </svg>
            </button>
        </div>
        <div class="toolbar-row">
            <span class="products-count" id="productsCount">38 dise√±os</span>
            <div class="view-toggle">
                <button class="view-btn active" id="viewGrid" title="Vista grilla">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="18" height="18">
                        <rect x="3" y="3" width="7" height="7" />
                        <rect x="14" y="3" width="7" height="7" />
                        <rect x="3" y="14" width="7" height="7" />
                        <rect x="14" y="14" width="7" height="7" />
                    </svg>
                </button>
                <button class="view-btn" id="viewGallery" title="Vista galer√≠a">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="18" height="18">
                        <rect x="3" y="3" width="18" height="4" />
                        <rect x="3" y="10" width="18" height="4" />
                        <rect x="3" y="17" width="18" height="4" />
                    </svg>
                </button>
            </div>
        </div>
        <div class="search-results-info" id="searchResultsInfo"></div>
    </div>

    <!-- Productos -->
    <section class="products-section">
        <div class="products-grid" id="productsGrid">
            <!-- Se genera con JS -->
        </div>
    </section>

    <!-- ============ MODELOS DE REMERAS ============ -->
    <section class="info-section" id="modelos">
        <h2 class="info-title">MODELOS DE REMERAS</h2>
        <p class="info-subtitle">Seis variantes: hombre y mujer cl√°sico, unisex oversize, en blanco y negro</p>

        <div class="modelos-container" style="display: flex; flex-direction: column; gap: 1.5rem;">
            <!-- Fila 1: Cl√°sica Negra -->
            <div style="display: flex; gap: 1rem;">
                <div class="modelo-block" style="flex:1;">
                    <h3 class="modelo-titulo">Remera Cl√°sica Hombre - Negra</h3>
                    <div class="modelo-images">
                        <div class="modelo-img-placeholder" onclick="openImageModal('images/modelos/hombre_negra_clasica.jpg', 'Remera Cl√°sica Hombre Negra')">
                            <img src="images/modelos/hombre_negra_clasica.jpg" alt="Remera Cl√°sica Hombre Negra">
                        </div>
                    </div>
                </div>
                <div class="modelo-block" style="flex:1;">
                    <h3 class="modelo-titulo">Remera Cl√°sica Mujer - Negra</h3>
                    <div class="modelo-images">
                        <div class="modelo-img-placeholder" onclick="openImageModal('images/modelos/mujer_negra_clasica.jpg', 'Remera Cl√°sica Mujer Negra')">
                            <img src="images/modelos/mujer_negra_clasica.jpg" alt="Remera Cl√°sica Mujer Negra">
                        </div>
                    </div>
                </div>
            </div>
            <!-- Fila 2: Cl√°sica Blanca -->
            <div style="display: flex; gap: 1rem;">
                <div class="modelo-block" style="flex:1;">
                    <h3 class="modelo-titulo">Remera Cl√°sica Hombre - Blanca</h3>
                    <div class="modelo-images">
                        <div class="modelo-img-placeholder" onclick="openImageModal('images/modelos/hombre_blanca_clasica.jpg', 'Remera Cl√°sica Hombre Blanca')">
                            <img src="images/modelos/hombre_blanca_clasica.jpg" alt="Remera Cl√°sica Hombre Blanca">
                        </div>
                    </div>
                </div>
                <div class="modelo-block" style="flex:1;">
                    <h3 class="modelo-titulo">Remera Cl√°sica Mujer - Blanca</h3>
                    <div class="modelo-images">
                        <div class="modelo-img-placeholder" onclick="openImageModal('images/modelos/mujer_blanca_clasica.jpg', 'Remera Cl√°sica Mujer Blanca')">
                            <img src="images/modelos/mujer_blanca_clasica.jpg" alt="Remera Cl√°sica Mujer Blanca">
                        </div>
                    </div>
                </div>
            </div>
            <!-- Fila 3: Oversize Unisex -->
            <div style="display: flex; gap: 1rem;">
                <div class="modelo-block" style="flex:1;">
                    <h3 class="modelo-titulo">Remera Oversize Unisex - Blanca</h3>
                    <div class="modelo-images">
                        <div class="modelo-img-placeholder" onclick="openImageModal('images/modelos/unisex_blanca_oversize.jpg', 'Remera Oversize Unisex Blanca')">
                            <img src="images/modelos/unisex_blanca_oversize.jpg" alt="Remera Oversize Unisex Blanca">
                        </div>
                    </div>
                </div>
                <div class="modelo-block" style="flex:1;">
                    <h3 class="modelo-titulo">Remera Oversize Unisex - Negra</h3>
                    <div class="modelo-images">
                        <div class="modelo-img-placeholder" onclick="openImageModal('images/modelos/unisex_negra_oversize.jpg', 'Remera Oversize Unisex Negra')">
                            <img src="images/modelos/unisex_negra_oversize.jpg" alt="Remera Oversize Unisex Negra">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal de imagen ampliada -->
    <div class="image-modal" id="imageModal" onclick="closeImageModal()">
        <button class="image-modal-close" onclick="event.stopPropagation(); closeImageModal()">
            <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
                <path d="M18 6L6 18M6 6l12 12" />
            </svg>
        </button>
        <img id="imageModalImg" src="" alt="">
    </div>

    <!-- ============ TABLA DE MEDIDAS ============ -->
    <section class="info-section" id="talles">
        <h2 class="info-title">TABLA DE MEDIDAS</h2>
        <p class="info-subtitle">Medidas en cent√≠metros (pueden variar ¬±5%)</p>

        <div class="tabs-container">
            <div class="tabs-nav">
                <button class="tab-btn active" data-tab="hombre">Hombre</button>
                <button class="tab-btn" data-tab="mujer">Mujer</button>
                <button class="tab-btn" data-tab="oversize">Oversize</button>
            </div>

            <div class="tab-content active" id="tab-hombre">
                <table class="size-table">
                    <thead>
                        <tr>
                            <th>Talle</th>
                            <th>Pecho</th>
                            <th>Largo</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>S</td>
                            <td>52</td>
                            <td>75</td>
                        </tr>
                        <tr>
                            <td>M</td>
                            <td>54</td>
                            <td>77</td>
                        </tr>
                        <tr>
                            <td>L</td>
                            <td>56</td>
                            <td>79</td>
                        </tr>
                        <tr>
                            <td>XL</td>
                            <td>58</td>
                            <td>81</td>
                        </tr>
                        <tr>
                            <td>2XL</td>
                            <td>60</td>
                            <td>83</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="tab-content" id="tab-mujer">
                <table class="size-table">
                    <thead>
                        <tr>
                            <th>Talle</th>
                            <th>Pecho</th>
                            <th>Largo</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>S</td>
                            <td>47</td>
                            <td>61</td>
                        </tr>
                        <tr>
                            <td>M</td>
                            <td>49</td>
                            <td>63</td>
                        </tr>
                        <tr>
                            <td>L</td>
                            <td>51</td>
                            <td>65</td>
                        </tr>
                        <tr>
                            <td>XL</td>
                            <td>53</td>
                            <td>67</td>
                        </tr>
                        <tr>
                            <td>2XL</td>
                            <td>55</td>
                            <td>69</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="tab-content" id="tab-oversize">
                <table class="size-table">
                    <thead>
                        <tr>
                            <th>Talle</th>
                            <th>Pecho</th>
                            <th>Largo</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>XS</td>
                            <td>57</td>
                            <td>71</td>
                        </tr>
                        <tr>
                            <td>S</td>
                            <td>59</td>
                            <td>73</td>
                        </tr>
                        <tr>
                            <td>M</td>
                            <td>61</td>
                            <td>75</td>
                        </tr>
                        <tr>
                            <td>L</td>
                            <td>63</td>
                            <td>77</td>
                        </tr>
                        <tr>
                            <td>XL</td>
                            <td>66</td>
                            <td>79</td>
                        </tr>
                        <tr>
                            <td>2XL</td>
                            <td>69</td>
                            <td>81</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- ============ C√ìMO COMPRAR ============ -->
    <section class="info-section" id="como-comprar">
        <h2 class="info-title">C√ìMO COMPRAR</h2>
        <p class="info-subtitle">4 pasos simples para tener tu remera</p>

        <div class="steps-container">
            <div class="step-item">
                <span class="step-num">1</span>
                <div class="step-content">
                    <h4>Eleg√≠ tu dise√±o</h4>
                    <p>Explor√° el cat√°logo y encontr√° tu favorito.</p>
                </div>
            </div>
            <div class="step-item">
                <span class="step-num">2</span>
                <div class="step-content">
                    <h4>Escribime</h4>
                    <p>Por WhatsApp con talle, color y ciudad.</p>
                </div>
            </div>
            <div class="step-item">
                <span class="step-num">3</span>
                <div class="step-content">
                    <h4>Confirmaci√≥n</h4>
                    <p>Te paso el precio final con env√≠o incluido.</p>
                </div>
            </div>
            <div class="step-item">
                <span class="step-num">4</span>
                <div class="step-content">
                    <h4>Producci√≥n</h4>
                    <p>Pago ‚Üí Producci√≥n (5-7 d√≠as) ‚Üí Env√≠o gratis.</p>
                </div>
            </div>
        </div>

        <a href="https://wa.me/541169667685?text=Hola!%20Quiero%20encargar%20una%20remera" class="btn-cta-main">
            <svg viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
                <path
                    d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z" />
            </svg>
            QUIERO ENCARGAR AHORA
        </a>
    </section>

    <!-- ============ FAQ / INFO ============ -->
    <section class="info-section" id="faq">
        <h2 class="info-title rust">PREGUNTAS FRECUENTES</h2>
        <p class="info-subtitle">Todo lo que necesit√°s saber antes de encargar</p>
        <div class="faq-list">
            <div class="faq-item bg-card">
                <details>
                    <summary>On Demand y tiempos</summary>
                    <div class="faq-content">Trabajamos ON DEMAND (sin stock). Tu remera se produce a pedido: 4 a 7 d√≠as h√°biles + despacho. Como es personalizada, revis√° talle y color antes de confirmar.</div>
                </details>
            </div>
            <div class="faq-item bg-card">
                <details>
                    <summary>Producto (tela y corte)</summary>
                    <div class="faq-content">Tela: Algod√≥n peinado 24/1 premium. Corte: Cl√°sico (no slim fit) y Oversize Unisex.</div>
                </details>
            </div>
            <div class="faq-item bg-card">
                <details>
                    <summary>Estampa DTG</summary>
                    <div class="faq-content">Estampa DTG Premium (impresi√≥n directa sobre tela con tintas base agua). Alta definici√≥n, sin tacto pl√°stico.</div>
                </details>
            </div>
            <div class="faq-item bg-card">
                <details>
                    <summary>C√≥mo buscar</summary>
                    <div class="faq-content">Us√° la lupita y busc√°: Rust, Peace, Vic, Mustaine o el nombre del √°lbum.</div>
                </details>
            </div>
            <div class="faq-item bg-card">
                <details>
                    <summary>Cuidados</summary>
                    <div class="faq-content">Lavar del rev√©s, agua fr√≠a. No lavandina. Evitar secadora. No plancha directa sobre la estampa.</div>
                </details>
            </div>
            <div class="faq-item bg-card">
                <details>
                    <summary>Env√≠os (Andreani + tracking)</summary>
                    <div class="faq-content">Env√≠o gratis a todo el pa√≠s por Andreani. Te pasamos el tracking apenas despacha.</div>
                </details>
            </div>
            <div class="faq-item bg-card">
                <details>
                    <summary>Medios de pago + personalizados</summary>
                    <div class="faq-content">Transferencia o MercadoPago. ¬øQuer√©s tu dise√±o? Mandame la imagen en buena calidad y lo preparamos para DTG pro.</div>
                    <!-- Actualizaci√≥n para incluir reconstrucci√≥n de dise√±os -->
                    <div class="faq-content">¬øTen√©s una imagen vieja o de baja calidad? No hay problema.</div>
                    <div class="faq-content">En Five Magics Designs reconstruimos dise√±os para impresi√≥n profesional.</div>
                    <div class="faq-content">Puede ser:</div>
                    <ul class="faq-content">
                        <li>una foto de una remera vieja</li>
                        <li>una imagen chica o pixelada</li>
                        <li>una captura de pantalla</li>
                    </ul>
                    <div class="faq-content">Si el dise√±o se entiende, lo rehacemos para DTG premium.</div>
                    <div class="faq-content">No exigimos archivos perfectos. Hacemos el trabajo fino nosotros.</div>
                </details>
            </div>
        </div>
    </section>
    <footer>
        <div class="footer-logo">FIVE <span>MAGICS</span></div>

        <div class="social-links">
            <!-- WhatsApp -->
            <a href="https://wa.me/541169667685" class="social-link whatsapp" title="WhatsApp">
                <svg viewBox="0 0 24 24">
                    <path
                        d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z" />
                </svg>
            </a>
            <!-- Instagram -->
            <a href="https://instagram.com/fivemagicsdesigns" class="social-link" title="Instagram" target="_blank">
                <svg viewBox="0 0 24 24">
                    <path
                        d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
                </svg>
            </a>
            <!-- Facebook -->
            <a href="https://facebook.com/fivemagicsdesigns" class="social-link" title="Facebook" target="_blank">
                <svg viewBox="0 0 24 24">
                    <path
                        d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" />
                </svg>
            </a>
        </div>

        <div class="footer-divider"></div>

        <p>¬© 2025 Five Magics Designs ¬∑ Argentina</p>
        <p class="footer-tagline">RUST & NEON EDITION</p>
        <p style="margin-top:16px;font-size:0.7rem;opacity:0.6;">Precios v√°lidos Diciembre 2025. Sujetos a modificaci√≥n
            sin previo aviso.</p>
    </footer>

    <!-- FAB WhatsApp -->
    <a href="https://wa.me/541169667685" class="fab-wa" aria-label="WhatsApp">
        <svg viewBox="0 0 24 24">
            <path
                d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z" />
        </svg>
    </a>

    <!-- Zoom Overlay -->
    <div class="zoom-overlay" id="zoomOverlay">
        <button class="zoom-close" id="zoomClose">
            <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
                <path d="M18 6L6 18M6 6l12 12" />
            </svg>
        </button>
        <div class="zoom-container" id="zoomContainer">
            <img class="zoom-img" id="zoomImg" src="" alt="Zoom">
        </div>
        <div class="zoom-hint">Pellizc√° para hacer zoom ¬∑ Toc√° X para cerrar</div>
    </div>

    <!-- Toast de compartir -->
    <div class="share-toast" id="shareToast">‚úì Link copiado al portapapeles</div>

    <!-- Modal -->
    <div class="modal-overlay" id="modal">
        <div class="modal">
            <div class="modal-header">
                <span id="modalCounter" style="color:var(--text-muted);font-size:0.85rem;">1/7</span>
                <button class="modal-close" id="modalClose">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Carrusel -->
                <div class="carousel-container">
                    <button class="carousel-arrow left" id="carouselPrev" style="display:none;" aria-label="Anterior"></button>
                    <div class="carousel" id="carousel"></div>
                    <button class="carousel-arrow right" id="carouselNext" style="display:none;" aria-label="Siguiente"></button>
                    <button class="carousel-reset" id="carouselReset" style="display:none;position:absolute;top:12px;right:56px;z-index:10;padding:6px 14px;font-size:0.9rem;background:#222;color:#fff;border-radius:6px;border:none;box-shadow:0 2px 8px #0002;cursor:pointer;">Reset</button>
                    <div class="carousel-indicators" id="carouselDots"></div>
                </div>
                <div class="variant-name" id="variantName">Original Art</div>

                <!-- Info -->
                <div class="modal-product-info">
                    <h2 class="modal-product-name" id="modalName">Nombre</h2>
                    <div class="modal-product-meta" id="modalMeta">1985 ¬∑ Album</div>
                    <p class="modal-product-desc" id="modalDesc">Descripci√≥n...</p>

                    <!-- Precio destacado -->
                    <div class="modal-price" id="modalPrice">$37.000</div>
                    <div class="modal-price-note">Env√≠o gratis a todo el pa√≠s</div>

                    <!-- Badge doble estampa (se muestra din√°micamente) -->
                    <div class="badge-doble" id="badgeDoble" style="display:none;">
                        üî• DOBLE ESTAMPA (Frente + Espalda)
                    </div>

                    <div class="specs-grid">
                        <div class="spec-item">
                            <div class="spec-label">T√âCNICA</div>
                            <div class="spec-value">DTG Premium</div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-label">ACABADO</div>
                            <div class="spec-value">Sin tacto pl√°stico</div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-label">TELA</div>
                            <div class="spec-value">Algod√≥n 24/1 peinado</div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-label">TALLES</div>
                            <div class="spec-value">S a XXL</div>
                        </div>
                    </div>

                    <!-- Botones Compartir -->
                    <div class="modal-actions">
                        <button class="btn-share" id="btnCopyLink" onclick="copyProductLink()">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" />
                                <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" />
                            </svg>
                            Copiar Link
                        </button>
                        <a href="#" class="btn-share btn-share-wa" id="btnShareWa">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z" />
                            </svg>
                            Compartir
                        </a>
                    </div>

                    <a href="#" class="btn-wa" id="modalWaBtn">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z" />
                        </svg>
                        PEDIR POR WHATSAPP
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // === CONFIGURACI√ìN DE PRECIOS ===
        const PRECIOS = {
            simple: 37000,
            doble: 42000
        };
        const FECHA_VIGENCIA = "Diciembre 2025";
        const WHATSAPP = "541169667685";

        // Formatear precio argentino
        function formatPrecio(tipo) {
            return '$' + PRECIOS[tipo].toLocaleString('es-AR');
        }

        // === BASE_URL PARA GITHUB PAGES ===
        // Usa siempre la URL actual sin hash para deep links
        const BASE_URL = window.location.origin + window.location.pathname;

        // === BASE DE DATOS COMPLETA ===
        const db = [
            // ALBUMES (17)
            {
                id: 1,
                category: "Album",
                year: "1985",
                name: "Killing Is My Business",
                tipoPrecio: "simple",
                img: "images/albums/Killing_Is_my_bussines/kimb_1985_original_.jpg",
                variants: [
                    { img: "images/albums/Killing_Is_my_bussines/kimb_1985_original_.jpg", name: "KIMB_1985_ORIGINAL" },
                    { img: "images/albums/Killing_Is_my_bussines/kimb_2012.jpg", name: "KIMB 2012" },
                    { img: "images/albums/Killing_Is_my_bussines/kimb_art_2012.jpg", name: "KIMB_ART_2012" },
                    { img: "images/albums/Killing_Is_my_bussines/kimb_gris_rojo.jpg", name: "KIMB_GRIS_ROJO" },
                    { img: "images/albums/Killing_Is_my_bussines/kimb_realistic_1985.jpg", name: "KIMB_REALISTIC_1985" },
                    { img: "images/albums/Killing_Is_my_bussines/kimb_realistic_2012.jpg", name: "KIMB_REALISTIC_2012" },
                    { img: "images/albums/Killing_Is_my_bussines/kimb_retro.jpg", name: "KIMB_RETRO" }
                ],
                desc: "El debut legendario de Megadeth. 7 mockups reales disponibles. Desliz√° para ver todas las variantes."
            },
            { id: 2, category: "Album", year: "1986", name: "Peace Sells", tipoPrecio: "simple", img: "images/albums/Peace_sells/peace_sells_tapa.jpg", desc: "Vic Rattlehead frente a la ONU en llamas. Colores naranjas intensos." },
            { id: 3, category: "Album", year: "1988", name: "So Far, So Good", tipoPrecio: "simple", img: "images/albums/SFSGSW/1-sfsgsw_tapa.jpg", variants: [
                { img: "images/albums/SFSGSW/1-sfsgsw_tapa.jpg", name: "Tapa" },
                { img: "images/albums/SFSGSW/2-sfsgsw_alternative.jpg", name: "Alternative" },
                { img: "images/albums/SFSGSW/3-mary_jane.jpg", name: "Mary Jane" }
            ], desc: "Vic bajo la luna llena. Est√©tica oscura y rebelde. Variantes disponibles." },
            { id: 4, category: "Album", year: "1990", name: "Rust in Peace", tipoPrecio: "simple", img: "images/albums/Rust_in_peace/rust_in_peace.jpg", variants: [
                { img: "images/albums/Rust_in_peace/rust_in_peace.jpg", name: "Rust in Peace" }
            ], desc: "La joya del metal t√©cnico. Vic en el Hangar 18." },
            { id: 5, category: "Album", year: "1992", name: "Countdown to Extinction", tipoPrecio: "simple", img: "images/albums/Countdown_to_extinction/CTE.jpg", variants: [
                { img: "images/albums/Countdown_to_extinction/CTE.jpg", name: "Portada Original" }
            ], desc: "Arte conceptual del √°lbum m√°s exitoso. Tonos sepia." },
            { id: 6, category: "Album", year: "1994", name: "Youthanasia", tipoPrecio: "simple", img: "images/albums/Youthanasia/youthanasia.jpg", variants: [
                { img: "images/albums/Youthanasia/youthanasia.jpg", name: "Youthanasia" },
                { img: "images/albums/Youthanasia/vic_father.jpg", name: "Vic Father" }
            ], desc: "Dise√±o surrealista y melanc√≥lico. Full color HD. Variantes disponibles." },
           
            // El resto de los √°lbumes solo una imagen, sin variants
            { id: 8, category: "Album", year: "1997", name: "Cryptic Writings", tipoPrecio: "simple", img: "images/albums/Cryptic_Writings/cryptic_writings_tapa.jpg", desc: "El s√≠mbolo del caos estilizado. Minimalista." },
            { id: 9, category: "Album", year: "1999", name: "Risk", tipoPrecio: "simple", img: "images/albums/Risk/risk_tapa.jpg", desc: "La portada del gato en la trampera. Pieza de colecci√≥n." },
            { id: 10, category: "Album", year: "2001", name: "The World Needs a Hero", tipoPrecio: "simple", img: "images/albums/TWNAH/the_worlds_needs_a_hero.jpg", desc: "Vic saliendo del pecho del alien. Gore y sci-fi." },
            { id: 11, category: "Album", year: "2004", name: "The System Has Failed", tipoPrecio: "simple", img: "images/albums/TSHF/the_system_has_failed.jpg", desc: "Vic vendiendo sentencias. Arte pol√≠tico." },
            { id: 12, category: "Album", year: "2007", name: "United Abominations", tipoPrecio: "simple", img: "images/albums/United_Abominations/united_abominations.jpg", desc: "El √°ngel de la ONU en llamas. Explosivo." },
            { id: 13, category: "Album", year: "2009", name: "Endgame", tipoPrecio: "simple", img: "images/albums/Endgame/endgame.jpg", desc: "Concepto dist√≥pico de vigilancia. B&W puro." },
            { id: 14, category: "Album", year: "2011", name: "TH1RT3EN", tipoPrecio: "simple", img: "images/albums/13/13.jpg", desc: "Vic de espaldas con las velas. Misterioso." },
            { id: 15, category: "Album", year: "2013", name: "Super Collider", tipoPrecio: "simple", img: "images/albums/Super_Collider/super_collider.jpg", desc: "El colisionador de part√≠culas. Geom√©trico." },
             { id: 7, category: "Album", year: "2016", name: "Dystopia", tipoPrecio: "simple", img: "images/albums/Dystopia/dystopia.jpg", variants: [
                { img: "images/albums/Dystopia/dystopia.jpg", name: "Dystopia" }
            ], desc: "Vic futurista con katana. Est√©tica cyberpunk." },
            { id: 16, category: "Album", year: "2022", name: "The Sick, the Dying...And the Dead!", tipoPrecio: "simple", img: "images/albums/The_sick/the_sick_the_dying_and_the_dead.jpg", desc: "Arte medieval de la peste. Full color." },
                        { id: 17, category: "Album", year: "2026", name: "Megadeth 2026", tipoPrecio: "simple", img: "images/albums/Megadeth/vic_llamas_negro.jpg", desc: "Pre-order del futuro dise√±o.",
                            variants: [
                                { img: "images/albums/Megadeth/vic_llamas_negro.jpg", name: "Vic Llamas Negro" },
                                { img: "images/albums/Megadeth/vic_digital.jpg", name: "Vic Digital" },
                                { img: "images/albums/Megadeth/i_dont_care.jpg", name: "I Don't Care" },
                                { img: "images/albums/Megadeth/tipping_point.jpg", name: "Tipping Point" },
                                { img: "images/albums/Megadeth/let_there_be_shred.jpg", name: "Let There Be Shred" },
                                { img: "images/albums/Megadeth/let_there_be_shred-realista.jpg", name: "Let There Be Shred Realista" },
                                { img: "images/albums/Megadeth/fmd_edition_shred.jpg", name: "FMD Edition Shred" },
                                { img: "images/albums/Megadeth/vic_pelea_v1.jpg", name: "Vic Pelea V1" },
                                { img: "images/albums/Megadeth/vic_pelea_v2.jpg", name: "Vic Pelea V2" }
                            ]
                        },

            // SONGS (10)
            // { id: 18, category: "Song", year: "1990", name: "Holy Wars", tipoPrecio: "simple", img: "https://placehold.co/300x450/111/FFF?text=HOLY+WARS", desc: "Vic liderando la batalla. Las cruzadas √©picas." },
            // { id: 19, category: "Song", year: "1990", name: "Hangar 18", tipoPrecio: "simple", img: "https://placehold.co/300x450/1a1f24/FFF?text=HANGAR+18", desc: "Extraterrestres y conspiraciones. Tonos verdes." },
            // { id: 20, category: "Song", year: "1990", name: "Tornado of Souls", tipoPrecio: "simple", img: "https://placehold.co/300x450/000033/FFF?text=TORNADO", desc: "Un v√≥rtice de almas azules. El solo m√°s √©pico." },
            // { id: 21, category: "Song", year: "1986", name: "Wake Up Dead", tipoPrecio: "simple", img: "https://placehold.co/300x450/000/00F?text=WAKE+UP", desc: "Estilo c√≥mic de terror ochentero. Zombies." },
            // { id: 22, category: "Song", year: "1992", name: "Symphony of Destruction", tipoPrecio: "simple", img: "https://placehold.co/300x450/330000/FFF?text=SYMPHONY", desc: "El director de orquesta del caos." },
            // { id: 23, category: "Song", year: "1994", name: "A Tout Le Monde", tipoPrecio: "simple", img: "https://placehold.co/300x450/222/FFF?text=A+TOUT", desc: "Dise√±o g√≥tico y rom√°ntico. Rosas y calaveras." },
            // { id: 24, category: "Song", year: "1986", name: "The Conjuring", tipoPrecio: "simple", img: "https://placehold.co/300x450/300/FFF?text=CONJURING", desc: "Simbolog√≠a oculta y magia negra." },
            // { id: 25, category: "Song", year: "1988", name: "In My Darkest Hour", tipoPrecio: "simple", img: "https://placehold.co/300x450/000/FFF?text=DARKEST", desc: "Minimalista y oscura. Homenaje emotivo." },
            // { id: 26, category: "Song", year: "1985", name: "Mechanix", tipoPrecio: "simple", img: "https://placehold.co/300x450/555/FFF?text=MECHANIX", desc: "Estilo taller mec√°nico vintage. Velocidad." },
            // { id: 27, category: "Song", year: "2016", name: "The Threat Is Real", tipoPrecio: "simple", img: "https://placehold.co/300x450/003366/FFF?text=THREAT", desc: "Vic cortando cabezas en futuro desolador." },

            // SINGLES: VIC NUCLEAR
            { id: 235, category: "Singles", year: "2025", name: "Vic Nuclear", tipoPrecio: "simple", img: "images/singles/vic_nuclear.jpg", desc: "Dise√±o especial: Vic Nuclear. Rareza exclusiva Five Magics Designs." },

            // MUSICIANS (5)
                        { id: 28, category: "Musician", year: "Leyenda", name: "Dave Mustaine", tipoPrecio: "simple", img: "images/musicians/Dave_Mustaine/Dave_Mustaine_COLOR_90s.jpg", desc: "El Colorado con su Flying V. El l√≠der.",
                            variants: [
                                { img: "images/musicians/Dave_Mustaine/Dave_Mustaine_COLOR_90s.jpg", name: "COLOR 90s" },
                                { img: "images/musicians/Dave_Mustaine/Dave_Mustaine_BN_90s.jpg", name: "BN 90s" }
                            ]
                        },
                        { id: 29, category: "Musician", year: "Leyenda", name: "Marty Friedman", tipoPrecio: "simple", img: "images/musicians/Marty_Friedman/Marty_1990_cte.jpg", desc: "El guitarrista ex√≥tico. Estilo japon√©s.",
                            variants: [
                                { img: "images/musicians/Marty_Friedman/Marty_1990_cte.jpg", name: "1990 CTE" },
                                { img: "images/musicians/Marty_Friedman/Marty_1990_RIP.jpg", name: "1990 RIP" },
                                { img: "images/musicians/Marty_Friedman/Marty_1992_FIRMA.jpg", name: "1992 FIRMA" }
                            ]
                        },
            // { id: 30, category: "Musician", year: "Leyenda", name: "Nick Menza", tipoPrecio: "simple", img: "https://placehold.co/300x450/000099/FFF?text=MENZA", desc: "El motor de la banda. Drum God." },
            // { id: 31, category: "Musician", year: "Leyenda", name: "David Ellefson", tipoPrecio: "simple", img: "https://placehold.co/300x450/006600/FFF?text=JUNIOR", desc: "El bajista original. Cl√°sica de los 90s." },
            // { id: 32, category: "Musician", year: "Actual", name: "Kiko Loureiro", tipoPrecio: "simple", img: "https://placehold.co/300x450/333/FFF?text=KIKO", desc: "El virtuoso moderno. Dise√±o t√©cnico." },

            // PERSONALIZADO (dise√±os sueltos de otras bandas, arte, etc)
            // Algunos de los trabajos exclusivos especialmente preparados a pedido, solo en FMD
            { id: 60, category: "Personalizados", year: "2025", name: "AC/DC Europe 84", tipoPrecio: "simple", img: "images/personalizado/ac_dc_europe_84.jpg", desc: "Mockup AC/DC Europe 84." },
            { id: 61, category: "Personalizados", year: "2025", name: "AC/DC Europe 84 Remaster", tipoPrecio: "simple", img: "images/personalizado/ac_dc_europe_84_remaster.jpg", desc: "Mockup AC/DC Europe 84 Remaster." },
            { id: 49, category: "Personalizados", year: "2025", name: "Bifrost Argentina", tipoPrecio: "simple", img: "images/personalizado/bifrost_argentina.jpg", desc: "Mockup Bifrost Argentina." },
            { id: 56, category: "Personalizados", year: "2025", name: "Calavera Guitar", tipoPrecio: "simple", img: "images/personalizado/calavera_guitar.jpg", desc: "Mockup Calavera Guitar." },
            { id: 46, category: "Personalizados", year: "2025", name: "Dimebag Darrell BN", tipoPrecio: "simple", img: "images/personalizado/dimebag_darrell_BN.jpg", desc: "Mockup Dimebag Darrell BN." },
            { id: 47, category: "Personalizados", year: "2025", name: "Dimebag Darrell Color", tipoPrecio: "simple", img: "images/personalizado/dimebag_darrell_color.jpg", desc: "Mockup Dimebag Darrell Color." },
            { id: 48, category: "Personalizados", year: "2025", name: "Dimebag Darrell Guitar Gold", tipoPrecio: "simple", img: "images/personalizado/dimebag_darrell_guitar_gold.jpg", desc: "Mockup Dimebag Darrell Guitar Gold." },
            { id: 51, category: "Personalizados", year: "2025", name: "Flema", tipoPrecio: "simple", img: "images/personalizado/flema.jpg", desc: "Mockup Flema." },
            { id: 44, category: "Personalizados", year: "2025", name: "Gallindez Box", tipoPrecio: "simple", img: "images/personalizado/gallindez_box.jpg", desc: "Mockup Gallindez Box." },
            { id: 41, category: "Personalizados", year: "2025", name: "Kurt Nirvana", tipoPrecio: "simple", img: "images/personalizado/kurt_nirvana.jpg", desc: "Mockup especial: Kurt Cobain (Nirvana)." },
            { id: 55, category: "Personalizados", year: "2025", name: "Religi√≥n", tipoPrecio: "simple", img: "images/personalizado/religi√≥n.jpg", desc: "Mockup Religi√≥n." },
            { id: 45, category: "Personalizados", year: "2025", name: "Ro√±a Castro Box", tipoPrecio: "simple", img: "images/personalizado/ro√±a_castro_box.jpg", desc: "Mockup Ro√±a Castro Box." },
            { id: 54, category: "Personalizados", year: "2025", name: "Saltatio Mortis", tipoPrecio: "simple", img: "images/personalizado/saltatio_mortis.jpg", desc: "Mockup Saltatio Mortis." },
            { id: 50, category: "Personalizados", year: "2025", name: "Slinka Mascota", tipoPrecio: "simple", img: "images/personalizado/slinka_mascota.jpg", desc: "Mockup Slinka Mascota." },
            { id: 57, category: "Personalizados", year: "2025", name: "The Ramones", tipoPrecio: "simple", img: "images/personalizado/the_ramones.jpg", desc: "Mockup The Ramones." },
            { id: 58, category: "Personalizados", year: "2025", name: "WASP", tipoPrecio: "simple", img: "images/personalizado/wasp.jpg", desc: "Mockup WASP." },
            { id: 53, category: "Personalizados", year: "2025", name: "Wintersun", tipoPrecio: "simple", img: "images/personalizado/wintersun.jpg", desc: "Mockup Wintersun." },
            { id: 59, category: "Personalizados", year: "2025", name: "Primal Fear", tipoPrecio: "simple", img: "images/personalizado/primal_fear.jpg", desc: "Mockup Primal Fear." },
            { id: 43, category: "Personalizados", year: "2025", name: "Symphony X", tipoPrecio: "simple", img: "images/personalizado/symphony_x.jpg", desc: "Mockup Symphony X." },


            // TOURS (4) - Doble estampa (frente + espalda con fechas)
            { id: 42, category: "Tour", year: "2026", name: "Vic Tour 2026", tipoPrecio: "doble", img: "images/tours/Tour_2026/vic_tour_2026.jpg", desc: "Mockup especial: Vic Tour 2026. Edici√≥n exclusiva." },
            // { id: 35, category: "Tour", year: "1990", name: "Rust In Peace Tour", tipoPrecio: "doble", img: "https://placehold.co/300x450/1a3d1a/FFF?text=RIP+TOUR", desc: "Poster de la gira m√°s legendaria. Frente + fechas en espalda." },
            // { id: 36, category: "Tour", year: "1992", name: "Countdown Tour", tipoPrecio: "doble", img: "https://placehold.co/300x450/332200/FFF?text=COUNTDOWN+TOUR", desc: "El flyer de la gira mundial del 92. Frente + fechas en espalda." },
            // { id: 37, category: "Tour", year: "2024-2025", name: "The Sick Tour", tipoPrecio: "doble", img: "https://placehold.co/300x450/003300/FFF?text=SICK+TOUR", desc: "La gira de despedida. Frente + fechas en espalda." },
            // { id: 38, category: "Tour", year: "2025", name: "Buenos Aires Final", tipoPrecio: "doble", img: "https://placehold.co/300x450/852C0C/FFF?text=BA+FINAL", desc: "Edici√≥n limitada del show final. Frente + fechas en espalda." },
            {
                id: 39,
                category: "Tour",
                year: "2025",
                name: "VIC GAUCHO ARGENTINO",
                tipoPrecio: "doble",
                img: "images/tours/Vic_Gaucho_Argentino/vic_gaucho_original.jpg", // imagen principal
                variants: [
                    { img: "images/tours/Vic_Gaucho_Argentino/vic_gaucho_original.jpg", name: "Original" },
                    { img: "images/tours/Vic_Gaucho_Argentino/vic_gaucho_realista.jpg", name: "Realista" },
                    { img: "images/tours/Vic_Gaucho_Argentino/vic_gaucho_caballo.jpg", name: "Caballo" }
                ],
                desc: "Serie especial VIC GAUCHO. Frente + variantes."
            },
            {
                id: 40,
                category: "Tour",
                year: "2025",
                name: "Tour Argentina",
                tipoPrecio: "doble",
                img: "images/tours/Tour_argentina/poster_tour_argentina.jpg",
                variants: [
                    { img: "images/tours/Tour_argentina/poster_tour_argentina.jpg", name: "Poster" },
                    { img: "images/tours/Tour_argentina/vic_bandera_logo_blanco.jpg", name: "Vic Bandera Blanco" },
                    { img: "images/tours/Tour_argentina/vic_bandera_logo_dorado.jpg", name: "Vic Bandera Dorado" },
                    { img: "images/tours/Tour_argentina/vic_edici√≥n_fmd.jpg", name: "Edici√≥n FMD" }
                ],
                desc: "Tour Argentina: edici√≥n especial con 4 variantes exclusivas."
            },

        ];

        // === ELEMENTOS ===
        const productsGrid = document.getElementById('productsGrid');
        const categoryNav = document.getElementById('categoryNav');
        const modal = document.getElementById('modal');
        const carousel = document.getElementById('carousel');
        const carouselDots = document.getElementById('carouselDots');

        let currentProduct = null;
        let currentSlide = 0;
        let scrollPosition = 0;

        // === RENDERIZAR PRODUCTOS ===
        function renderProducts(category = 'all') {
            let filtered = db;
            if (category !== 'all') {
                filtered = db.filter(p => p.category === category);
            }
            productsGrid.innerHTML = filtered.map(p => {
                const hasVariants = p.variants && p.variants.length > 1;
                const precio = formatPrecio(p.tipoPrecio || 'simple');
                return `
                    <div class="product-card" onclick="openModal(${p.id})">
                        ${hasVariants ? `<span class="variants-badge">${p.variants.length} dise√±os</span>` : ''}
                        <img src="${p.img}" alt="${p.name}" class="product-img" loading="lazy">
                        <div class="product-info">
                            <div class="product-name">${p.name}</div>
                            <div class="product-meta">${p.year} ¬∑ ${p.category}</div>
                            <div class="product-price-row">
                                <span class="product-price">${precio}</span>
                                <span class="product-envio">Env√≠o gratis</span>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // === CATEGOR√çAS === (el listener real est√° m√°s abajo, con filterProducts)

        // === MODAL ===
        function getImages(p) {
            if (p.variants && p.variants.length > 0) {
                return p.variants;
            }
            return [{ img: p.img, name: '' }];
        }

        function openModal(id) {
            currentProduct = db.find(p => p.id === id);
            if (!currentProduct) return;

            // Guardar posici√≥n y bloquear scroll real
            scrollPosition = window.pageYOffset;
            document.body.style.overflow = 'hidden';
            document.body.style.position = 'fixed';
            document.body.style.top = `-${scrollPosition}px`;
            document.body.style.width = '100%';

            // Setear hash para deep link
            history.pushState({ modal: true, id }, '', `#producto-${id}`);

            currentSlide = 0;
            const images = getImages(currentProduct);

            // Generar slides
            carousel.innerHTML = images.map((v, i) => `
                <div class="carousel-slide">
                    <img src="${v.img}" alt="${currentProduct.name} - ${v.name || 'Dise√±o'}">
                </div>
            `).join('');

            // Generar dots
            carouselDots.innerHTML = images.length > 1 ? images.map((_, i) => `<div class="carousel-dot${i === 0 ? ' active' : ''}" data-index="${i}"></div>`).join('') : '';

            // Reset scroll
            carousel.scrollLeft = 0;

            // Blindar: remover antes de agregar para evitar duplicados
            carousel.removeEventListener('scroll', handleCarouselScroll);
            carousel.addEventListener('scroll', handleCarouselScroll);

            // Mostrar/ocultar flechas
            document.getElementById('carouselPrev').style.display = images.length > 1 ? 'flex' : 'none';
            document.getElementById('carouselNext').style.display = images.length > 1 ? 'flex' : 'none';

            // Mostrar badge de doble estampa solo si tipoPrecio === 'doble'
            const badgeDoble = document.getElementById('badgeDoble');
            if (currentProduct.tipoPrecio === 'doble') {
                badgeDoble.style.display = 'block';
            } else {
                badgeDoble.style.display = 'none';
            }
            updateModalInfo();
            // Mostrar el modal y bloquear scroll
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            modal.classList.remove('active');
            
            // Restaurar scroll
            document.body.style.removeProperty('overflow');
            document.body.style.removeProperty('position');
            document.body.style.removeProperty('top');
            document.body.style.removeProperty('width');
            window.scrollTo(0, scrollPosition);
            
            resetModalZoom();
        }

        function updateModalInfo() {
            if (!currentProduct) return;
            const images = getImages(currentProduct);
            // Setear info textual del producto
            document.getElementById('modalName').textContent = currentProduct.name;
            document.getElementById('modalMeta').textContent = `${currentProduct.year} ¬∑ ${currentProduct.category}`;
            document.getElementById('modalDesc').textContent = currentProduct.desc || '';
            document.getElementById('modalPrice').textContent = formatPrecio(currentProduct.tipoPrecio || 'simple');

            document.getElementById('modalCounter').textContent = `${currentSlide + 1}/${images.length}`;
            document.getElementById('variantName').textContent = images[currentSlide].name || '';
            document.getElementById('variantName').style.display = images[currentSlide].name ? 'block' : 'none';
            // Update dots
            document.querySelectorAll('.carousel-dot').forEach((dot, i) => {
                dot.classList.toggle('active', i === currentSlide);
            });
            // Update WA link con precio
            const precio = formatPrecio(currentProduct.tipoPrecio || 'simple');
            const variante = images[currentSlide].name ? ` - ${images[currentSlide].name}` : '';
            const msg = `Hola FMD! Quiero encargar: ${currentProduct.name}${variante} - Precio lista: ${precio}. Mi talle es..., color..., y soy de...`;
            document.getElementById('modalWaBtn').href = `https://wa.me/${WHATSAPP}?text=${encodeURIComponent(msg)}`;
        }

        function handleCarouselScroll() {
            const scrollLeft = carousel.scrollLeft;
            const slideWidth = carousel.offsetWidth;
            const newSlide = Math.round(scrollLeft / slideWidth);
            const images = getImages(currentProduct);
            if (newSlide !== currentSlide && newSlide >= 0 && newSlide < images.length) {
                currentSlide = newSlide;
                updateModalInfo();
            }
        }

        // Click en dots
        carouselDots.addEventListener('click', (e) => {
            if (e.target.classList.contains('carousel-dot')) {
                const index = parseInt(e.target.dataset.index);
                goToSlide(index);
            }
        });

        // Flechas de navegaci√≥n
        document.getElementById('carouselPrev').onclick = () => {
            goToSlide(Math.max(currentSlide - 1, 0));
        };
        document.getElementById('carouselNext').onclick = () => {
            const images = getImages(currentProduct);
            goToSlide(Math.min(currentSlide + 1, images.length - 1));
        };

            // Mostrar/ocultar bot√≥n Reset seg√∫n cantidad de slides
            const carouselReset = document.getElementById('carouselReset');
            carouselReset.style.display = 'block';

            carouselReset.onclick = function() {
                const img = document.querySelector('.carousel-slide img.zoomed') || document.querySelectorAll('.carousel-slide img')[currentSlide];
                if (img) {
                    img.style.transform = 'scale(1)';
                    img.classList.remove('zoomed');
                    modalScale = 1;
                    modalLastDistance = 0;
                }
            };

            // === Pinch-to-zoom y doble tap en im√°genes del carrusel del modal ===
            let modalScale = 1;
            let modalLastDistance = 0;
            let modalStartScale = 1;
            let modalLastTap = 0;
            let modalTouchStartX = 0;
            let modalTouchEndX = 0;
            let modalTouchMoved = false;

            // Delegar eventos a las im√°genes del carrusel
            carousel.addEventListener('touchstart', (e) => {
                const img = e.target.closest('.carousel-slide img');
                if (img && e.touches.length === 2) {
                    modalLastDistance = Math.hypot(
                        e.touches[0].pageX - e.touches[1].pageX,
                        e.touches[0].pageY - e.touches[1].pageY
                    );
                    modalStartScale = modalScale;
                }
                // Mejorar swipe/tap detection
                if (img && e.touches.length === 1) {
                    modalTouchStartX = e.touches[0].clientX;
                    modalTouchMoved = false;
                }
            });

            carousel.addEventListener('touchmove', (e) => {
                const img = e.target.closest('.carousel-slide img');
                if (img && e.touches.length === 2) {
                    e.preventDefault();
                    const distance = Math.hypot(
                        e.touches[0].pageX - e.touches[1].pageX,
                        e.touches[0].pageY - e.touches[1].pageY
                    );
                    if (modalLastDistance > 0) {
                        let newScale = modalStartScale * (distance / modalLastDistance);
                        newScale = Math.max(1, Math.min(newScale, 2.5));
                        modalScale = newScale;
                        img.style.transform = `scale(${modalScale})`;
                        img.classList.toggle('zoomed', modalScale > 1);
                    }
                    modalLastDistance = distance;
                }
                // Mejorar swipe/tap detection
                if (img && e.touches.length === 1) {
                    modalTouchEndX = e.touches[0].clientX;
                    if (Math.abs(modalTouchEndX - modalTouchStartX) > 20) {
                        modalTouchMoved = true;
                    }
                }
            }, { passive: false });

            carousel.addEventListener('touchend', (e) => {
                const img = e.target.closest('.carousel-slide img');
                if (img) {
                    // Snap back si el zoom est√° entre 1 y 1.15
                    if (modalScale > 1 && modalScale < 1.15) {
                        modalScale = 1;
                        img.style.transform = 'scale(1)';
                        img.classList.remove('zoomed');
                    }
                    modalLastDistance = 0;
                }
            });

            // Doble tap para zoom en carrusel del modal
            carousel.addEventListener('touchend', (e) => {
                const img = e.target.closest('.carousel-slide img');
                // Solo si no hubo swipe
                if (img && e.touches.length === 0 && !modalTouchMoved) {
                    const currentTime = new Date().getTime();
                    const tapLength = currentTime - modalLastTap;
                    if (tapLength < 300 && tapLength > 0) {
                        if (modalScale > 1) {
                            modalScale = 1;
                        } else {
                            modalScale = 2;
                        }
                        img.style.transform = `scale(${modalScale})`;
                        img.classList.toggle('zoomed', modalScale > 1);
                    }
                    modalLastTap = currentTime;
                }
            });

            // Resetear zoom al cambiar de slide o cerrar modal
            function resetModalZoom() {
                document.querySelectorAll('.carousel-slide img').forEach(img => {
                    img.style.transform = 'scale(1)';
                    img.classList.remove('zoomed');
                });
                modalScale = 1;
                modalLastDistance = 0;
            }
            carousel.addEventListener('scroll', resetModalZoom);
            document.getElementById('modalClose').addEventListener('click', resetModalZoom);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) resetModalZoom();
            });
        function goToSlide(index) {
            const images = getImages(currentProduct);
            if (index < 0 || index >= images.length) return;
            currentSlide = index;
            carousel.scrollTo({ left: index * carousel.offsetWidth, behavior: 'smooth' });
            updateModalInfo();
        }

        // Cerrar modal
        document.getElementById('modalClose').onclick = closeModal;
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });

        function closeModal() {
            modal.classList.remove('active');
            
            // Restaurar scroll
            document.body.style.removeProperty('overflow');
            document.body.style.removeProperty('position');
            document.body.style.removeProperty('top');
            document.body.style.removeProperty('width');
            window.scrollTo(0, scrollPosition);
            
            resetModalZoom();
        }

        // Manejar bot√≥n "atr√°s" del navegador
        window.addEventListener('popstate', (e) => {
            if (modal.classList.contains('active')) {
                modal.classList.remove('active');
                document.body.style.overflow = '';
                carousel.removeEventListener('scroll', handleCarouselScroll);
            }
        });

        // Si la p√°gina carga con hash de producto, abrir ese modal
        window.addEventListener('load', () => {
            const hash = window.location.hash;
            if (hash.startsWith('#producto-')) {
                const id = parseInt(hash.replace('#producto-', ''));
                if (id) openModal(id);
            }
        });

        // === TABS DE TALLES ===
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                // Quitar active de todos los botones y tabs
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));

                // Activar el seleccionado
                btn.classList.add('active');
                document.getElementById('tab-' + btn.dataset.tab).classList.add('active');
            });
        });

        // === MODAL DE IMAGEN (MODELOS) ===
        const imageModal = document.getElementById('imageModal');
        const imageModalImg = document.getElementById('imageModalImg');

        function openImageModal(src, alt) {
            imageModalImg.src = src;
            imageModalImg.alt = alt;
            imageModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeImageModal() {
            imageModal.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Cerrar con tecla Escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && imageModal.classList.contains('active')) {
                closeImageModal();
            }
            if (e.key === 'Escape' && zoomOverlay.classList.contains('active')) {
                closeZoom();
            }
        });

        // === BUSCADOR ===
        const searchInput = document.getElementById('searchInput');
        const searchClear = document.getElementById('searchClear');
        const searchResultsInfo = document.getElementById('searchResultsInfo');
        let currentCategory = 'Album';
        let currentSearch = '';

        searchInput.addEventListener('input', (e) => {
            currentSearch = e.target.value.trim().toLowerCase();
            searchClear.classList.toggle('visible', currentSearch.length > 0);
            filterProducts();
        });

        searchClear.addEventListener('click', () => {
            searchInput.value = '';
            currentSearch = '';
            searchClear.classList.remove('visible');
            filterProducts();
            searchInput.focus();
        });

        function filterProducts() {
            let filtered = db;

            // Filtrar por categor√≠a (sin opci√≥n 'Todos')
            filtered = filtered.filter(p => {
                if (currentCategory === 'Album') return p.category === 'Album';
                if (currentCategory === 'Singles') return p.category === 'Singles';
                if (currentCategory === 'Musician') return p.category === 'Musician';
                if (currentCategory === 'Tour') return p.category === 'Tour';
                if (currentCategory === 'Personalizados') return p.category === 'Personalizados';
                return false;
            });

            // Filtrar por b√∫squeda
            if (currentSearch) {
                filtered = filtered.filter(p =>
                    (p.name || '').toLowerCase().includes(currentSearch) ||
                    (p.desc || '').toLowerCase().includes(currentSearch) ||
                    (p.year || '').toString().toLowerCase().includes(currentSearch) ||
                    (p.category || '').toLowerCase().includes(currentSearch)
                );
            }

            renderFilteredProducts(filtered);
        }

        function renderFilteredProducts(filtered) {
            // Actualizar contador
            const countEl = document.getElementById('productsCount');
            countEl.textContent = `${filtered.length} dise√±o${filtered.length !== 1 ? 's' : ''}`;

            // Mostrar info de b√∫squeda
            if (currentSearch && filtered.length > 0) {
                searchResultsInfo.textContent = `Mostrando ${filtered.length} resultado${filtered.length !== 1 ? 's' : ''} para "${currentSearch}"`;
            } else if (currentSearch && filtered.length === 0) {
                searchResultsInfo.textContent = '';
            } else {
                searchResultsInfo.textContent = '';
            }

            // Renderizar productos
            if (filtered.length === 0) {
                productsGrid.innerHTML = `
                    <div class="no-results" style="grid-column: 1/-1;">
                        <svg viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke="currentColor">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="M21 21l-4.35-4.35"/>
                        </svg>
                        <p>No se encontraron dise√±os</p>
                        <p style="font-size:0.8rem;margin-top:4px;">Prob√° con otro t√©rmino</p>
                    </div>
                `;
                return;
            }

            productsGrid.innerHTML = filtered.map(p => {
                const hasVariants = p.variants && p.variants.length > 1;
                const precio = formatPrecio(p.tipoPrecio || 'simple');
                return `
                    <div class="product-card" onclick="openModal(${p.id})">
                        ${hasVariants ? `<span class="variants-badge">${p.variants.length} dise√±os</span>` : ''}
                        <img src="${p.img}" alt="${p.name}" class="product-img" loading="lazy">
                        <div class="product-info">
                            <div class="product-name">${p.name}</div>
                            <div class="product-meta">${p.year} ¬∑ ${p.category}</div>
                            <div class="product-price-row">
                                <span class="product-price">${precio}</span>
                                <span class="product-envio">Env√≠o gratis</span>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // === CATEGOR√çAS (integrado con b√∫squeda) ===
        categoryNav.addEventListener('click', (e) => {
            if (e.target.classList.contains('cat-btn')) {
                document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
                e.target.classList.add('active');
                currentCategory = e.target.dataset.cat;
                filterProducts();
            }
        });

        // === TOGGLE VISTA (GRILLA / GALER√çA) ===
        const viewGrid = document.getElementById('viewGrid');
        const viewGallery = document.getElementById('viewGallery');

        viewGrid.addEventListener('click', () => {
            productsGrid.classList.remove('gallery-view');
            viewGrid.classList.add('active');
            viewGallery.classList.remove('active');
            localStorage.setItem('fmd-view', 'grid');
        });

        viewGallery.addEventListener('click', () => {
            productsGrid.classList.add('gallery-view');
            viewGallery.classList.add('active');
            viewGrid.classList.remove('active');
            localStorage.setItem('fmd-view', 'gallery');
        });

        // Restaurar preferencia de vista
        if (localStorage.getItem('fmd-view') === 'gallery') {
            viewGallery.click();
        }

        // === ZOOM EN IM√ÅGENES ===
        const zoomOverlay = document.getElementById('zoomOverlay');
        const zoomImg = document.getElementById('zoomImg');
        const zoomContainer = document.getElementById('zoomContainer');
        const zoomClose = document.getElementById('zoomClose');

        // Detectar si el dispositivo es m√≥vil
        const isMobile = window.matchMedia('(pointer: coarse)').matches;

        // Modificar el evento click para el zoom overlay
        carousel.addEventListener('click', (e) => {
          if (!isMobile) {
            const img = e.target.closest('.carousel-slide img');
            if (img) {
              openZoom(img.src, img.alt); // Funci√≥n para abrir el zoom overlay
            }
          }
        });

        // Agregar evento de click a las im√°genes del carrusel
        // Swipe detection y zoom seguro
        let touchStartX = 0;
        let touchEndX = 0;
        let touchMoved = false;
        // Usar la variable global 'carousel' ya declarada m√°s abajo
        carousel.addEventListener('touchstart', (e) => {
            if (e.touches.length === 1) {
                touchStartX = e.touches[0].clientX;
                touchMoved = false;
            }
        });
        carousel.addEventListener('touchmove', (e) => {
            if (e.touches.length === 1) {
                touchEndX = e.touches[0].clientX;
                if (Math.abs(touchEndX - touchStartX) > 10) {
                    touchMoved = true;
                }
            }
        });
        carousel.addEventListener('touchend', (e) => {
            if (!touchMoved) {
                // Tap sin swipe: abrir zoom
                const target = e.target.closest('.carousel-slide img');
                if (target) openZoom(target.src, target.alt);
            }
        });

        function openZoom(src, alt) {
            zoomImg.src = src;
            zoomImg.alt = alt || 'Zoom';
            zoomOverlay.classList.add('active');
            document.body.style.overflow = 'hidden';
            // Resetear escala al abrir
            scale = 1;
            zoomImg.style.transform = 'scale(1)';
            zoomImg.classList.remove('zoomed');
        }

        function closeZoom() {
            zoomOverlay.classList.remove('active');
            document.body.style.overflow = '';
            scale = 1;
            zoomImg.style.transform = 'scale(1)';
            zoomImg.classList.remove('zoomed');
        }

        zoomClose.addEventListener('click', closeZoom);
        zoomOverlay.addEventListener('click', (e) => {
            if (e.target === zoomOverlay || e.target === zoomContainer) {
                closeZoom();
            }
        });

        // Pinch to zoom con gestos
        let scale = 1;
        let lastDistance = 0;
        let startScale = 1;

        zoomContainer.addEventListener('touchstart', (e) => {
            if (e.touches.length === 2) {
                lastDistance = Math.hypot(
                    e.touches[0].pageX - e.touches[1].pageX,
                    e.touches[0].pageY - e.touches[1].pageY
                );
                startScale = scale;
            }
        });

        zoomContainer.addEventListener('touchmove', (e) => {
            if (e.touches.length === 2) {
                e.preventDefault();
                const distance = Math.hypot(
                    e.touches[0].pageX - e.touches[1].pageX,
                    e.touches[0].pageY - e.touches[1].pageY
                );

                if (lastDistance > 0) {
                    let newScale = startScale * (distance / lastDistance);
                    newScale = Math.max(1, Math.min(newScale, 2.5)); // Limitar entre 1x y 2.5x
                    scale = newScale;
                    zoomImg.style.transform = `scale(${scale})`;
                    zoomImg.classList.toggle('zoomed', scale > 1);
                }

                // No actualizar startScale aqu√≠, solo lastDistance
                lastDistance = distance;
            }
        }, { passive: false });

        zoomContainer.addEventListener('touchend', () => {
            lastDistance = 0;
        });

        // Doble tap para zoom
        let lastTap = 0;
        zoomImg.addEventListener('touchend', (e) => {
            const currentTime = new Date().getTime();
            const tapLength = currentTime - lastTap;
            if (tapLength < 300 && tapLength > 0) {
                if (scale > 1) {
                    scale = 1;
                } else {
                    scale = 2;
                }
                zoomImg.style.transform = `scale(${scale})`;
                zoomImg.classList.toggle('zoomed', scale > 1);
            }
            lastTap = currentTime;
        });

        // === COMPARTIR DISE√ëO ===
        function copyProductLink() {
            if (!currentProduct) return;

            const url = `${BASE_URL}#producto-${currentProduct.id}`;

            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(url).then(() => {
                    showToast('‚úì Link copiado al portapapeles');
                }).catch(() => {
                    fallbackCopy(url);
                });
            } else {
                fallbackCopy(url);
            }
        }

        function fallbackCopy(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.style.position = 'fixed';
            textarea.style.opacity = '0';
            document.body.appendChild(textarea);
            textarea.select();
            try {
                document.execCommand('copy');
                showToast('‚úì Link copiado al portapapeles');
            } catch {
                showToast('‚úó No se pudo copiar');
            }
            document.body.removeChild(textarea);
        }

        function showToast(message) {
            const toast = document.getElementById('shareToast');
            toast.textContent = message;
            toast.classList.add('visible');
            setTimeout(() => {
                toast.classList.remove('visible');
            }, 2500);
        }

        // Actualizar link de compartir WA
        function updateShareLinks() {
            if (!currentProduct) return;

            const images = getImages(currentProduct);
            const variante = images[currentSlide]?.name ? ` - ${images[currentSlide].name}` : '';
            const url = `${BASE_URL}#producto-${currentProduct.id}`;
            const msg = `¬°Mir√° este dise√±o de Five Magics! ${currentProduct.name}${variante} ${url}`;

            document.getElementById('btnShareWa').href = `https://wa.me/?text=${encodeURIComponent(msg)}`;
        }

        // Actualizar updateModalInfo para incluir links de compartir
        const originalUpdateModalInfo = updateModalInfo;
        updateModalInfo = function () {
            originalUpdateModalInfo();
            updateShareLinks();
        };

        // === INIT ===
        filterProducts();
        // El contador se actualiza en renderFilteredProducts
    </script>

<style>
/* FAQ/INFO FMD */
#faq {
    margin-bottom: 2.5rem;
}
#faq .faq-list {
    max-width: 700px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 1.1rem;
}
#faq .faq-item {
    border-radius: 12px;
    border: 1.5px solid var(--rust, #b86c1c);
    background: var(--bg-card, #181818);
    box-shadow: 0 2px 12px rgba(0,0,0,0.10);
    overflow: hidden;
    transition: border-color 0.3s;
}
#faq .faq-item details {
    padding: 0.7rem 1.2rem 0.7rem 1.2rem;
    color: var(--text-muted, #bdbdbd);
    font-size: 1.08rem;
    cursor: pointer;
    border: none;
}
#faq .faq-item summary {
    font-weight: 600;
    color: var(--rust, #b86c1c);
    outline: none;
    position: relative;
    padding-right: 2rem;
    list-style: none;
    transition: color 0.2s;
}
#faq .faq-item summary::-webkit-details-marker {
    display: none;
}
#faq .faq-item summary::after {
    content: '+';
    position: absolute;
    right: 0.5rem;
    top: 0;
    font-size: 1.3em;
    color: var(--rust, #b86c1c);
    transition: transform 0.3s;
}
#faq .faq-item details[open] summary::after {
    content: '‚àí';
    transform: rotate(180deg);
}
#faq .faq-content {
    margin-top: 0.7rem;
    color: var(--text-muted, #bdbdbd);
    font-size: 1rem;
    line-height: 1.6;
    padding-bottom: 0.2rem;
    animation: faqOpen 0.35s cubic-bezier(.4,1.6,.6,1) both;
}
@keyframes faqOpen {
    0% { opacity: 0; transform: translateY(-10px); }
    100% { opacity: 1; transform: none; }
}
@media (max-width: 600px) {
    #faq .faq-list {
        max-width: 98vw;
        gap: 0.7rem;
    }
    #faq .faq-item details {
        font-size: 0.98rem;
        padding: 0.7rem 0.7rem 0.7rem 0.7rem;
    }
    #faq .faq-content {
        font-size: 0.95rem;
    }
}
</style>
</body>

</html>